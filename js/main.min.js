var sizes=[{sel:[".yotta"],power:7},{sel:[".zetta"],power:6},{sel:["h1",".exa"],power:5},{sel:["h2",".peta"],power:4},{sel:["h3",".tera"],power:3},{sel:["h4",".giga"],power:2},{sel:["h5",".mega"],power:1},{sel:["h6",".kilo"],power:0},{sel:["small",".milli"],power:-1},{sel:[".micro"],power:-2}],$baseFontSize=$("#base-font-size"),$fontSizeUnit=$('[name="font-size-unit"]'),$fontSizeUnitPx=$("#font-size-px"),$baseLineHeight=$("#base-line-height"),$lineHeightUnit=$('[name="line-height-unit"]'),$lineHeightUnitPx=$("#line-height-px"),$typeScale=$("#type-scale"),$typeScaleSelect=$("#type-scale-select"),$controls=$("#controls"),$output=$("#output"),$legacy=$("#legacy"),view=function(a,b){return b||(b={}),b.legacy=$legacy.is(":checked"),prepareTemplate(a,b)},validateEvents=function(){var a=Math.round($fontSizeUnitPx.is(":checked")?$baseFontSize.val():16*$baseFontSize.val()/100),b=Math.round($lineHeightUnitPx.is(":checked")?$baseLineHeight.val():a*$baseLineHeight.val());$baseFontSize.val()&&$baseLineHeight.val()&&$typeScale.val()&&prepareCSS(a,b,$typeScale.val())},calculateValues=function(a,b,c,d){var e=a*Math.pow(c,d)/a,f=b/a;return{fontSize:e,lineHeight:Math.ceil(e/f)*(f/e)}},prepareCSS=function(a,b,c){var d=[],e="",f=a/16*100,g=b/a;sizes.forEach(function(e,f){var g=calculateValues(a,b,c,sizes[f].power);d.push(view("css-element",{selectors:sizes[f].sel.join(", "),"font-size":g.fontSize.toFixed(4),"font-size-px":Math.round(g.fontSize*a),"line-height":g.lineHeight.toFixed(4),"line-height-px":Math.round(g.lineHeight*b)}))}),e=view("css-base",{"base-font":f,"base-font-px":a,"base-line-height":g,"base-line-height-px":g*a,"line-height-half":(g/2).toFixed(4),"line-height-half-px":Math.round(b/2),"line-height-double":(2*g).toFixed(4),"line-height-double-px":2*b,"type-scale":d.join("")}),$output.html(e)};$controls.on("keyup change submit",function(a){a.preventDefault(),validateEvents()}),$fontSizeUnit.on("change",function(a){a.stopPropagation(),$baseFontSize.val("px"==$(this).val()?16:100),validateEvents()}),$lineHeightUnit.on("change",function(a){a.stopPropagation(),"px"==$(this).val()?($baseLineHeight.val(24),$baseLineHeight.attr("step",1)):($baseLineHeight.val(1.5),$baseLineHeight.attr("step",.001)),validateEvents()}),$typeScaleSelect.on("change",function(a){a.stopPropagation(),$typeScale.val($(this).val()),validateEvents()}),$typeScale.on("keyup change",function(){$typeScaleSelect.val(0)}),validateEvents();